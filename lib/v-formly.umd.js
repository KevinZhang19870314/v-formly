!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["v-formly"]={},t.Vue)}(this,function(t,e){"use strict";function P(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=P(e);function T(t){const e=new t;Object.defineProperties(e,{on:{get(){return this.$on.bind(this)}},once:{get(){return this.$once.bind(this)}},off:{get(){return this.$off.bind(this)}},emit:{get(){return this.$emit.bind(this)}}}),Object.defineProperty(t,"bus",{get(){return e}}),Object.defineProperty(t.prototype,"$bus",{get(){return e}})}"undefined"!=typeof window&&window.Vue&&window.Vue.use(T);const R="form-value-change",s="form-error-change";function $(t){return t&&t.Math==Math&&t}function n(t){try{return!!t()}catch(t){return!0}}function L(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function W(t){return ct?ht(t):function(){return dt.apply(t,arguments)}}function z(t){return mt(ft(t),8,-1)}function i(t){if("Function"===pt(t))return vt(t)}function B(t){return null==t}function H(t){if(_t(t))throw xt("Can't call method on "+t);return t}function U(t){return Ct(wt(t))}function K(t,e){return arguments.length<2?(n=Et[t],It(n)?n:void 0):Et[t]&&Et[t][e];var n}function q(t){if(Pt(t))return t;throw Rt(Tt(t)+" is not a function")}function G(e,n){try{Kt(Ut,e,{value:n,configurable:!0,writable:!0})}catch(t){Ut[e]=n}return n}function J(t){return Jt(Gt(t))}function X(t){return"Symbol("+(void 0===t?"":t)+")_"+te(++Qt+Zt,36)}function Y(t){var e;return ee(ae,t)&&(ne||"string"==typeof ae[t])||(e="Symbol."+t,ne&&ee(k,t)?ae[t]=k[t]:ae[t]=(ie&&re?re:oe)(e)),ae[t]}function Q(t){return t=me(t,"string"),pe(t)?t:t+""}function Z(t){if(Ee(t))return t;throw je(Ie(t)+" is not an object")}function tt(t){return(t=+t)!=t||0==t?0:fn(t)}function et(t){return bn(t.length)}function nt(s){return function(t,e,n){var i,a=_n(t),r=Cn(a),o=xn(n,r);if(s&&e!=e){for(;o<r;)if((i=a[o++])!=i)return!0}else for(;o<r;o++)if((s||o in a)&&a[o]===e)return s||o||0;return!s&&-1}}function it(t,e,n){for(var i=Dn(e),a=Tn.f,r=Pn.f,o=0;o<i.length;o++){var s=i[o];An(t,s)||n&&An(n,s)||a(t,s,r(e,s))}}function at(t,e){return(t=zn[Wn(t)])==Hn||t!=Bn&&($n(e)?Rn(e):!!e)}function rt(t,e){var n,i,a,r=t.target,o=t.global,s=t.stat,u=o?Un:s?Un[r]||Jn(r,{}):(Un[r]||{}).prototype;if(u)for(n in e){if(i=e[n],a=t.dontCallGetSet?(a=Kn(u,n))&&a.value:u[n],!Yn(o?n:r+(s?".":"#")+n,t.forced)&&void 0!==a){if(typeof i==typeof a)continue;Xn(i,a)}(t.sham||a&&a.sham)&&qn(i,"sham",!0),Gn(u,n,i,t)}}var ot,st,a,r,e={methods:{visibleIf(t,e,n,i){var a;return!e.ui||!e.ui.visibleIf||(a=Object.keys(e.ui.visibleIf)[0],i=i||{},"function"!=typeof(e=Object.values(e.ui.visibleIf)[0])||a!==i.id)?n:e.call(this,t,i.id,i.value)}}},u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u=$("object"==typeof globalThis&&globalThis)||$("object"==typeof window&&window)||$("object"==typeof self&&self)||$("object"==typeof u&&u)||function(){return this}()||Function("return this")(),l={},c=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),d=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),ut=Function.prototype.call,h=d?ut.bind(ut):function(){return ut.apply(ut,arguments)},f={},m={}.propertyIsEnumerable,lt=Object.getOwnPropertyDescriptor,p=lt&&!m.call({1:2},1),ct=(f.f=p?function(t){t=lt(this,t);return!!t&&t.enumerable}:m,d),p=Function.prototype,dt=p.call,ht=ct&&p.bind.bind(dt,dt),m=W,ft=m({}.toString),mt=m("".slice),pt=z,vt=W,p=n,gt=z,yt=Object,bt=i("".split),m=p(function(){return!yt("z").propertyIsEnumerable(0)})?function(t){return"String"==gt(t)?bt(t,""):yt(t)}:yt,_t=B,xt=TypeError,Ct=m,wt=H,p="object"==typeof document&&document.all,p={all:p,IS_HTMLDDA:void 0===p&&void 0!==p},Ot=p.all,v=p.IS_HTMLDDA?function(t){return"function"==typeof t||t===Ot}:function(t){return"function"==typeof t},St=v,kt=p.all,p=p.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:St(t)||t===kt}:function(t){return"object"==typeof t?null!==t:St(t)},Et=u,It=v,jt=i({}.isPrototypeOf),g=K("navigator","userAgent")||"",y=u.process,b=u.Deno,y=y&&y.versions||b&&b.version,b=y&&y.v8,y=x=!(x=b?0<(_=b.split("."))[0]&&_[0]<4?1:+(_[0]+_[1]):x)&&g&&(!(_=g.match(/Edge\/(\d+)/))||74<=_[1])&&(_=g.match(/Chrome\/(\d+)/))?+_[1]:x,Nt=y,b=n,g=!!Object.getOwnPropertySymbols&&!b(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Nt&&Nt<41}),_=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Vt=K,Mt=v,Ft=jt,At=Object,x=_?function(t){return"symbol"==typeof t}:function(t){var e=Vt("Symbol");return Mt(e)&&Ft(e.prototype,At(t))},Dt=String,Pt=v,Tt=function(t){try{return Dt(t)}catch(t){return"Object"}},Rt=TypeError,$t=q,Lt=B,Wt=h,zt=v,Bt=p,Ht=TypeError,b={exports:{}},Ut=u,Kt=Object.defineProperty,C=G,w="__core-js_shared__",C=u[w]||C(w,{}),qt=C,Gt=((b.exports=function(t,e){return qt[t]||(qt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"}),H),Jt=Object,Xt=J,Yt=i({}.hasOwnProperty),w=Object.hasOwn||function(t,e){return Yt(Xt(t),e)},O=i,Qt=0,Zt=Math.random(),te=O(1..toString),O=u,ee=w,S=X,ne=g,ie=_,ae=(0,b.exports)("wks"),k=O.Symbol,re=k&&k.for,oe=ie?k:k&&k.withoutSetter||S,se=h,ue=p,le=x,ce=function(t,e){t=t[e];return Lt(t)?void 0:$t(t)},de=function(t,e){var n,i;if("string"===e&&zt(n=t.toString)&&!Bt(i=Wt(n,t)))return i;if(zt(n=t.valueOf)&&!Bt(i=Wt(n,t)))return i;if("string"!==e&&zt(n=t.toString)&&!Bt(i=Wt(n,t)))return i;throw Ht("Can't convert object to primitive value")},he=TypeError,fe=Y("toPrimitive"),me=function(t,e){if(!ue(t)||le(t))return t;var n=ce(t,fe);if(n){if(n=se(n,t,e=void 0===e?"default":e),!ue(n)||le(n))return n;throw he("Can't convert object to primitive value")}return de(t,e=void 0===e?"number":e)},pe=x,g=p,ve=u.document,ge=g(ve)&&g(ve.createElement),ye=function(t){return ge?ve.createElement(t):{}},_=!c&&!n(function(){return 7!=Object.defineProperty(ye("div"),"a",{get:function(){return 7}}).a}),be=h,_e=f,xe=L,Ce=U,we=Q,Oe=w,Se=_,ke=Object.getOwnPropertyDescriptor,O=(l.f=c?ke:function(t,e){if(t=Ce(t),e=we(e),Se)try{return ke(t,e)}catch(t){}if(Oe(t,e))return xe(!be(_e.f,t,e),t[e])},{}),S=c&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ee=p,Ie=String,je=TypeError,Ne=_,Ve=Z,Me=Q,Fe=TypeError,Ae=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Pe="enumerable",Te="configurable",Re="writable",x=(O.f=c?S?function(t,e,n){var i;return Ve(t),e=Me(e),Ve(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Re in n&&!n[Re]&&((i=De(t,e))&&i[Re]&&(t[e]=n.value,n={configurable:(Te in n?n:i)[Te],enumerable:(Pe in n?n:i)[Pe],writable:!1})),Ae(t,e,n)}:Ae:function(t,e,n){if(Ve(t),e=Me(e),Ve(n),Ne)try{return Ae(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Fe("Accessors not supported");return"value"in n&&(t[e]=n.value),t},c),$e=O,Le=L,g=x?function(t,e,n){return $e.f(t,e,Le(1,n))}:function(t,e,n){return t[e]=n,t},h={exports:{}},f=c,_=w,S=Function.prototype,x=f&&Object.getOwnPropertyDescriptor,_=_(S,"name"),_={EXISTS:_,PROPER:_&&"something"===function(){}.name,CONFIGURABLE:_&&(!f||x(S,"name").configurable)},f=v,x=C,We=i(Function.toString),S=(f(x.inspectSource)||(x.inspectSource=function(t){return We(t)}),x.inspectSource),f=v,x=u.WeakMap,f=f(x)&&/native code/.test(String(x)),ze=X,Be=(0,b.exports)("keys"),x={},He=p,Ue=g,Ke=w,b=C,C=function(t){return Be[t]||(Be[t]=ze(t))},E=x,qe="Object already initialized",Ge=u.TypeError,I=u.WeakMap,Je=f||b.state?((a=b.state||(b.state=new I)).get=a.get,a.has=a.has,a.set=a.set,ot=function(t,e){if(a.has(t))throw Ge(qe);return e.facade=t,a.set(t,e),e},st=function(t){return a.get(t)||{}},function(t){return a.has(t)}):(E[r=C("state")]=!0,ot=function(t,e){if(Ke(t,r))throw Ge(qe);return e.facade=t,Ue(t,r,e),e},st=function(t){return Ke(t,r)?t[r]:{}},function(t){return Ke(t,r)}),f={set:ot,get:st,has:Je,enforce:function(t){return Je(t)?st(t):ot(t,{})},getterFor:function(e){return function(t){if(He(t)&&(t=st(t)).type===e)return t;throw Ge("Incompatible receiver, "+e+" required")}}},b=n,Xe=v,Ye=w,Qe=c,Ze=_.CONFIGURABLE,tn=S,en=f.enforce,nn=f.get,an=Object.defineProperty,rn=Qe&&!b(function(){return 8!==an(function(){},"length",{value:8}).length}),on=String(String).split("String"),I=h.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Ye(t,"name")||Ze&&t.name!==e)&&(Qe?an(t,"name",{value:e,configurable:!0}):t.name=e),rn&&n&&Ye(n,"arity")&&t.length!==n.arity&&an(t,"length",{value:n.arity});try{n&&Ye(n,"constructor")&&n.constructor?Qe&&an(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=en(t);return Ye(n,"source")||(n.source=on.join("string"==typeof e?e:"")),t},sn=(Function.prototype.toString=I(function(){return Xe(this)&&nn(this).source||tn(this)},"toString"),v),un=O,ln=h.exports,cn=G,E={},dn=Math.ceil,hn=Math.floor,fn=Math.trunc||function(t){t=+t;return(0<t?hn:dn)(t)},mn=tt,pn=Math.max,vn=Math.min,gn=tt,yn=Math.min,bn=function(t){return 0<t?yn(gn(t),9007199254740991):0},_n=U,xn=function(t,e){t=mn(t);return t<0?pn(t+e,0):vn(t,e)},Cn=et,C={includes:nt(!0),indexOf:nt(!1)},_=i,wn=w,On=U,Sn=C.indexOf,kn=x,En=_([].push),In=function(t,e){var n,i=On(t),a=0,r=[];for(n in i)!wn(kn,n)&&wn(i,n)&&En(r,n);for(;e.length>a;)!wn(i,n=e[a++])||~Sn(r,n)||En(r,n);return r},jn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),S=(E.f=Object.getOwnPropertyNames||function(t){return In(t,jn)},{}),f=(S.f=Object.getOwnPropertySymbols,K),Nn=E,Vn=S,Mn=Z,Fn=i([].concat),b=f("Reflect","ownKeys")||function(t){var e=Nn.f(Mn(t)),n=Vn.f;return n?Fn(e,n(t)):e},An=w,Dn=b,Pn=l,Tn=O,Rn=n,$n=v,Ln=/#|\.prototype\./,Wn=at.normalize=function(t){return String(t).replace(Ln,".").toLowerCase()},zn=at.data={},Bn=at.NATIVE="N",Hn=at.POLYFILL="P",Un=u,Kn=l.f,qn=g,Gn=function(t,e,n,i){var a=(i=i||{}).enumerable,r=void 0!==i.name?i.name:e;if(sn(n)&&ln(n,r,i),i.global)a?t[e]=n:cn(e,n);else{try{i.unsafe?t[e]&&(a=!0):delete t[e]}catch(t){}a?t[e]=n:un.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},Jn=G,Xn=it,Yn=at,Qn=z,Zn=Array.isArray||function(t){return"Array"==Qn(t)},ti=TypeError,ei=Object.getOwnPropertyDescriptor,I=c&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),ni=TypeError,h=rt,ii=J,ai=et,ri=I?function(t,e){if(Zn(t)&&!ei(t,"length").writable)throw ti("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},oi=function(t){if(9007199254740991<t)throw ni("Maximum allowed index exceeded");return t},C=n(function(){return 4294967297!==[].push.call({length:4294967296},1)}),x=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}(),_=(h({target:"Array",proto:!0,arity:1,forced:C||x},{push:function(t){var e=ii(this),n=ai(e),i=arguments.length;oi(n+i);for(var a=0;a<i;a++)e[n]=arguments[a],n++;return ri(e,n),n}}),{data(){return{slotsName:[],slotNameStartWith:"slotName"}},created(){this.meta&&!this.meta.type&&(this.meta.type="object"),this.getSlotsNameFromMeta(this.meta)},methods:{getSlotsNameFromMeta(e){switch(e.type){case"object":Object.keys(e.properties).forEach(t=>{t=e.properties[t];this.getSlotsNameFromMeta(t)});break;case"array":Object.keys(e.items.properties).forEach(t=>{t=e.items.properties[t];this.getSlotsNameFromMeta(t)});break;default:var t;!e.ui||(t=Object.keys(e.ui).filter(t=>t.startsWith(this.slotNameStartWith)))&&0<t.length&&t.forEach(t=>{this.slotsName.push(e.ui[t])})}}}}),E={name:"v-formly-item",inject:["state"],mixins:[e,_],props:{id:String,meta:{type:Object,default:()=>{}},show:{type:Boolean,default:!0}},data(){return{visible:!0}},computed:{currentComponent(){return"v-"+(this.meta.ui&&this.meta.ui.component||this.meta.type)},layout:function(){return this.state.layout}},mounted(){if(!this.meta.type)throw new Error("Form item type must be one of these: number, string, boolean, array, object");this.visible=this.show,this.applyIgnoreErrors(this.visible,this.id),o.default.bus.on(R+"-"+this.state._formId,t=>{this.visible=this.visibleIf(this.state.context,this.meta,this.visible,{id:t.id,value:t.value});t=this.state.context.getContext(this.id);t&&this.applyIgnoreErrors(this.visible,t.id)})},methods:{applyIgnoreErrors(t,e){t?this.state._ignoreErrorIds=this.state._ignoreErrorIds.filter(t=>t!==e):-1===this.state._ignoreErrorIds.indexOf(e)&&this.state._ignoreErrorIds.push(e)}}};function j(t,e,n,i,a,r,o,s,u,l){"boolean"!=typeof o&&(u=s,s=o,o=!1);var c="function"==typeof n?n.options:n;t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),i&&(c._scopeId=i);let d;if(r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=d):e&&(d=o?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(c.functional){const h=c.render;c.render=function(t,e){return d.call(e),h(t,e)}}else{t=c.beforeCreate;c.beforeCreate=t?[].concat(t,d):[d]}return n}const si="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function ui(t){return(e,n)=>{var i,a=si?n.media||"default":e;if(!(a=ci[a]||(ci[a]={ids:new Set,styles:[]})).ids.has(e)){a.ids.add(e);let t=n.source;n.map&&(t=(t+="\n/*# sourceURL="+n.map.sources[0]+" */")+"\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",n.media&&a.element.setAttribute("media",n.media),(li=void 0===li?document.head||document.getElementsByTagName("head")[0]:li).appendChild(a.element)),"styleSheet"in a.element?(a.styles.push(t),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n")):(e=a.ids.size-1,n=document.createTextNode(t),(i=a.element.childNodes)[e]&&a.element.removeChild(i[e]),i.length?a.element.insertBefore(n,i[e]):a.element.appendChild(n))}}}let li;const ci={};function di(){var n=this,t=n.$createElement;return(t=n._self._c||t)("div",{style:{display:"inline"===n.layout?"inline-block":"block"}},[n.visible?t(n.currentComponent,{tag:"component",attrs:{id:n.id,meta:n.meta},scopedSlots:n._u([n._l(n.slotsName,function(e){return{key:e,fn:function(t){return[n._t(e,null,null,Object.assign({},t))]}}})],null,!0)}):n._e()],1)}function hi(t){t&&t("data-v-3c94799b_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"FormlyItem.vue"},media:void 0})}S=E,di._withStripped=!0,f=j({render:di,staticRenderFns:[]},hi,S,"data-v-3c94799b",!1,void 0,!1,ui,void 0,void 0);class fi{constructor(t,e,n){this.state=t,this.id=e,this.meta=n,this.childMetaPairs=this.buildChildMetaPairs(e,n),t.context.addContext(e,this)}set value(n){this.childMetaPairs.forEach(({key:t,propertyName:e})=>{this.state.context.getContext(t).value=(n||{})[e]})}buildChildMetaPairs(t,e){var n,i,a=[];for([n,i]of Object.entries(e.properties||{})){var r="/"===t?"/"+n:t+"/"+n;a.push({key:r,propertyName:n,meta:i})}return a}}function mi(){var n=this,t=n.$createElement,i=n._self._c||t;return i("a-row",{attrs:{gutter:n.gutter}},n._l(n.childMetaPairs,function(t,e){return i("a-col",{key:e,style:{display:"inline"===n.layout?"inline-block":"block"},attrs:{span:n.grid(t).span,offset:n.grid(t).offset,xs:n.grid(t).xs,sm:n.grid(t).sm,md:n.grid(t).md,lg:n.grid(t).lg,xl:n.grid(t).xl,xxl:n.grid(t).xxl}},[i("v-formly-item",{attrs:{id:t.key,meta:t.meta,show:n.visible(t.meta)},scopedSlots:n._u([n._l(n.slotsName,function(e){return{key:e,fn:function(t){return[n._t(e,null,null,Object.assign({},t))]}}})],null,!0)})],1)}),1)}b={name:"v-object",components:{VFormlyItem:f},mixins:[_],inject:["state"],props:{id:String,meta:{type:Object,default:()=>{}}},data:()=>({childMetaPairs:[]}),computed:{ui:function(){return this.meta.ui||{}},gutter:function(){return Object.assign({},this.state.ui.grid,this.ui.grid).gutter},layout:function(){return this.state.layout}},methods:{visible(t){return t.ui&&t.ui.show},grid(t){return"inline"===this.layout?{}:(t=t.meta.ui&&t.meta.ui.grid||{},Object.assign({},this.state.ui.grid,this.ui.grid,t))}},created(){var t=new fi(this.state,this.id,this.meta);this.childMetaPairs=t.childMetaPairs}};mi._withStripped=!0;const pi=j({render:mi,staticRenderFns:[]},void 0,b,"data-v-c5fee7f4",!1,void 0,!1,void 0,void 0,void 0);function vi(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form-model-item",{class:{"has-error":t.error},attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:t.ui.showRequired},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{staticClass:"v__label-text"},[t._v(t._s(t.meta.title))]),t._v(" "),t.ui.optional||t.oh?n("span",{staticClass:"v__optional"},[t._v("\n      "+t._s(t.ui.optional)+"\n      "),t.oh?n("a-tooltip",{attrs:{title:t.oh.text,placement:t.oh.placement,trigger:t.oh.trigger,overlayStyle:t.oh.overlayStyle,mouseEnterDelay:t.oh.mouseEnterDelay,mouseLeaveDelay:t.oh.mouseLeaveDelay,overlayClassName:t.oh.overlayClassName}},[n("a-icon",{attrs:{type:t.oh.icon}})],1):t._e()],1):t._e()]},proxy:!0}])},[t._v(" "),t._t("default"),t._v(" "),t.meta.description?n("div",{staticClass:"ant-form-extra",domProps:{innerHTML:t._s(t.meta.description)}}):t._e(),t._v(" "),t.error?n("div",{staticClass:"ant-form-explain"},[t._v("\n    "+t._s(t.error)+"\n  ")]):t._e()],2)}var l={name:"v-wrapper",inject:["state"],props:{id:String,meta:{type:Object,default:()=>{}}},data(){return{context:this.state.context.getContext(this.id)}},computed:{ui(){return Object.assign({},this.state.ui,this.meta.ui)},oh(){return Object.assign({},this.state.ui,this.meta.ui).optionalHelp},grid(){return this.state.ui.grid||this.grid||{}},labelCol:function(){return"vertical"===this.state.layout||"inline"===this.state.layout?void 0:{span:this.ui.spanLabel}},wrapperCol:function(){return"vertical"===this.state.layout||"inline"===this.state.layout?void 0:{span:this.ui.spanControl,offset:this.ui.offsetControl||0}},error:{get(){return this.context.error},set(t){this.context.error=t}}},created(){o.default.bus.on(s+"-"+this.state._formId,this.formErrorChangeCallback)},beforeDestroy(){o.default.bus.off(s+"-"+this.state._formId,this.formErrorChangeCallback)},methods:{formErrorChangeCallback(t){t.id===this.id&&(this.error=t.error?t.error.message:void 0)}}},I=(vi._withStripped=!0,j({render:vi,staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0)),h=Function.prototype,gi=h.apply,yi=h.call,C="object"==typeof Reflect&&Reflect.apply||(d?yi.bind(gi):function(){return yi.apply(gi,arguments)}),bi=v,_i=String,xi=TypeError,Ci=i,wi=Z,Oi=function(t){if("object"==typeof t||bi(t))return t;throw xi("Can't set "+_i(t)+" as a prototype")},x=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,t={};try{(n=Ci(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),i=t instanceof Array}catch(t){}return function(t,e){return wi(t),Oi(e),i?n(t,e):t.__proto__=e,t}}():void 0),Si=O.f,ki=v,Ei=p,Ii=x,e={};e[Y("toStringTag")]="z";function N(t,e){var n={};n[t]=oa(t,e,la),ra({global:!0,constructor:!0,arity:1,forced:la},n)}function ji(t,e){var n;ua&&ua[t]&&((n={})[t]=oa(sa+"."+t,e,la),ra({target:sa,stat:!0,constructor:!0,arity:1,forced:la},n))}function Ni(l){return function(t,e,n,i){ca(e);var a=da(t),r=ha(a),o=fa(a),s=l?o-1:0,u=l?-1:1;if(n<2)for(;;){if(s in r){i=r[s],s+=u;break}if(s+=u,l?s<0:o<=s)throw ma("Reduce of empty array with no initial value")}for(;l?0<=s:s<o;s+=u)s in r&&(i=e(i,r[s],s,a));return i}}var E="[object z]"===String(e),Vi=v,Mi=z,Fi=Y("toStringTag"),Ai=Object,Di="Arguments"==Mi(function(){return arguments}()),Pi=E?Mi:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ai(t),Fi))?e:Di?Mi(t):"Object"==(e=Mi(t))&&Vi(t.callee)?"Arguments":e},Ti=String,Ri=function(t){if("Symbol"===Pi(t))throw TypeError("Cannot convert a Symbol value to a string");return Ti(t)},$i=p,Li=g,Wi=Error,zi=i("".replace),S=String(Wi("zxcasd").stack),Bi=/\n\s*at [^:]*:[^\n]*/,Hi=Bi.test(S),Ui=L,b=!n(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Ui(1,7)),7!==t.stack)}),Ki=K,qi=w,Gi=g,Ji=jt,Xi=x,Yi=it,Qi=function(t,e,n){n in t||Si(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})},Zi=function(t,e,n){return Ii&&ki(e=e.constructor)&&e!==n&&Ei(e=e.prototype)&&e!==n.prototype&&Ii(t,e),t},ta=function(t,e){return void 0===t?arguments.length<2?"":e:Ri(t)},ea=function(t,e){$i(e)&&"cause"in e&&Li(t,"cause",e.cause)},na=function(t,e){if(Hi&&"string"==typeof t&&!Wi.prepareStackTrace)for(;e--;)t=zi(t,Bi,"");return t},ia=b,aa=c,ra=rt,V=C,oa=function(t,e,n,i){var a="stackTraceLimit",r=i?2:1,t=t.split("."),o=t[t.length-1],s=Ki.apply(null,t);if(s){var u=s.prototype;if(qi(u,"cause")&&delete u.cause,!n)return s;var t=Ki("Error"),l=e(function(t,e){e=ta(i?e:t,void 0),t=i?new s(t):new s;return void 0!==e&&Gi(t,"message",e),ia&&Gi(t,"stack",na(t.stack,2)),this&&Ji(u,this)&&Zi(t,this,l),r<arguments.length&&ea(t,arguments[r]),t});l.prototype=u,"Error"!==o?Xi?Xi(l,t):Yi(l,t,{name:!0}):aa&&a in s&&(Qi(l,s,a),Qi(l,s,"prepareStackTrace")),Yi(l,s);try{u.name!==o&&Gi(u,"name",o),u.constructor=l}catch(t){}return l}},sa="WebAssembly",ua=u[sa],la=7!==Error("e",{cause:7}).cause,ca=(N("Error",function(e){return function(t){return V(e,this,arguments)}}),N("EvalError",function(e){return function(t){return V(e,this,arguments)}}),N("RangeError",function(e){return function(t){return V(e,this,arguments)}}),N("ReferenceError",function(e){return function(t){return V(e,this,arguments)}}),N("SyntaxError",function(e){return function(t){return V(e,this,arguments)}}),N("TypeError",function(e){return function(t){return V(e,this,arguments)}}),N("URIError",function(e){return function(t){return V(e,this,arguments)}}),ji("CompileError",function(e){return function(t){return V(e,this,arguments)}}),ji("LinkError",function(e){return function(t){return V(e,this,arguments)}}),ji("RuntimeError",function(e){return function(t){return V(e,this,arguments)}}),q),da=J,ha=m,fa=et,ma=TypeError,l={left:Ni(!1),right:Ni(!0)},pa=n,h="process"==z(u.process),d=rt,va=l.left,O=y,e=h;d({target:"Array",proto:!0,forced:!function(t,e){var n=[][t];return!!n&&pa(function(){n.call(null,e||function(){return 1},1)})}("reduce")||!e&&79<O&&O<83},{reduce:function(t){var e=arguments.length;return va(this,t,e,1<e?arguments[1]:void 0)}});class M{constructor(t,e,n){if(this.constructor==M)throw new Error("Abstract classes can't be instantiated.");this.id=e,this.state=t,this.meta=n,this.type=this.meta.ui&&this.meta.ui.component||this.meta.type,this.ui=Object.assign({},this.state.ui,this.meta.ui),this.error=void 0,t.context.addContext(e,this),this._value=void 0,this._initMetaValue=this.getInitMetaValue(),this.initValue()}initValue(){this._initMetaValue?this.value=this._initMetaValue:this.meta.default&&(this.value=this.meta.default)}setValue(t){this._value=t||void 0}get value(){return this._value}set value(t){this._value!==t&&(this.setValue(t),o.default.bus.emit(R+"-"+this.state._formId,{id:this.id,value:this._value}),this.state.updateObjProp(this.state.formData,this.id,this._value),this.state.validate.runValidationFormItem(this))}getInitMetaValue(){const i=this.id.split("/").filter(t=>t);let a="";return i.reduce((t,e,n)=>(n===i.length-1&&(a=t[e]),t[e]||{}),this.state.formData),a}}class F extends M{constructor(t,e,n){super(t,e,n),this.meta&&(this.open=this.meta.ui&&this.meta.ui.open||!1)}initValue(){this._initMetaValue?this.value=this._initMetaValue:this.meta.default&&(this.value=this.meta.default)}setValue(t){this._value=t||void 0}}function ga(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-input",e._b({attrs:{defaultValue:e.meta.defaultValue,disabled:e.meta.readOnly,maxLength:e.meta.maxLength},on:{change:e.change},scopedSlots:e._u([e.ui.slotNameOfPrefix?{key:"prefix",fn:function(){return[e._t(e.ui.slotNameOfPrefix)]},proxy:!0}:null,e.ui.slotNameOfSuffix?{key:"suffix",fn:function(){return[e._t(e.ui.slotNameOfSuffix)]},proxy:!0}:null,e.ui.slotNameOfAddonBefore?{key:"addonBefore",fn:function(){return[e._t(e.ui.slotNameOfAddonBefore)]},proxy:!0}:null,e.ui.slotNameOfAddonAfter?{key:"addonAfter",fn:function(){return[e._t(e.ui.slotNameOfAddonAfter)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-input",e.ui,!1))],1)}v={inject:["state"],props:{id:String,meta:{type:Object,default:()=>{}}},computed:{ui(){return this.context.ui}}},E={name:"v-string",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},methods:{change(){this.ui.change&&this.ui.change(this.value)}}};ga._withStripped=!0;const ya=j({render:ga,staticRenderFns:[]},void 0,E,"data-v-cee27974",!1,void 0,!1,void 0,void 0,void 0);class ba extends M{constructor(t,e,n){super(t,e,n)}initValue(){void 0!==this._initMetaValue?this.value=this._initMetaValue:"boolean"==typeof this.meta.default&&(this.value=this.meta.default)}setValue(t){this._value=t||!1}}function _a(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-switch",e._b({staticClass:"v__boolean",attrs:{disabled:e.meta.readOnly},on:{change:e.change},scopedSlots:e._u([e.ui.slotNameOfCheckedChildren?{key:"checkedChildren",fn:function(){return[e._t(e.ui.slotNameOfCheckedChildren)]},proxy:!0}:null,e.ui.slotNameOfUnCheckedChildren?{key:"unCheckedChildren",fn:function(){return[e._t(e.ui.slotNameOfUnCheckedChildren)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-switch",e.ui,!1))],1)}p={name:"v-boolean",components:{VWrapper:I},mixins:[v],data(){return{context:new ba(this.state,this.id,this.meta)}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||!1}}},methods:{change(t,e){this.ui.change&&this.ui.change(this.value,e)}}};_a._withStripped=!0;const xa=j({render:_a,staticRenderFns:[]},void 0,p,"data-v-420a8c5a",!1,void 0,!1,void 0,void 0,void 0);function Ca(e=8,t=10){var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=t||i.length,r=[];if(e)for(let t=0;t<e;t++)r[t]=i[0|Math.random()*a];else{r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(let t=0;t<36;t++)r[t]||(n=0|16*Math.random(),r[t]=i[19==t?3&n|8:n])}return r.join("")}function A(n){if(void 0!==n){if(null===n)return null;let e=Object.assign({},n);return Object.keys(e).forEach(t=>e[t]="object"==typeof n[t]?A(n[t]):n[t]),Array.isArray(n)?(e.length=n.length,Array.from(e)):e}}class wa extends M{constructor(t,e,n){super(t,e,n),this.ids=[],this.initValue()}initValue(){if(this.ids)if(this._initMetaValue&&0<this._initMetaValue.length)this.value=this._initMetaValue;else if(this.meta.default&&0<this.meta.default.length){const t=A(this.meta.default);t.forEach(()=>this.add(!1)),setTimeout(()=>{t.forEach((t,e)=>{this.state.context.getContext(this.id+"/"+e).value=t})}),this.validate()}}get value(){return this.getPathValue(this.state.formData,this.id)||[]}set value(t){if((0!==this.value.length||!t||0!==t.length)&&(Array.isArray(t)||null==t)){const n=A(t);var e=this.ids.length;for(let t=0;t<e;t++)this.remove(e-t-1,!1);n&&n.length&&(n.forEach(()=>this.add(!1)),o.default.nextTick(()=>{n.forEach((t,e)=>{this.state.context.getContext(this.id+"/"+e).value=t})})),this.validate()}}validate(){return this.state.validate.runValidationFormItem(this)}getPathValue(t,e){var n=e.split("/").filter(t=>t);let i=A(t);for(let t=0;t<n.length;t++){var a=n[t];i=i[a]}return i}getEmptyData(){const e={},n=this.meta.items.properties;return Object.keys(n).forEach(t=>{switch(n[t].type){case"object":e[t]={};break;case"array":e[t]=[];break;default:e[t]=void 0}}),e}add(t=!0){var e=this.id+"/"+this.ids.length,n=this.getEmptyData();return this.state.updateObjProp(this.state.formData,e,n),this.ids.push({key:Ca()}),t&&this.validate(),e}remove(a,t=!0){this.ids.splice(a,1);const i=this.id.split("/").filter(t=>!!t);i.reduce((t,e,n)=>(n===i.length-1&&t[e].splice(a,1),t[e]),this.state.formData);var e=[];for(const n of this.state.context._map.keys())new RegExp(`^/?${this.id}/`).test(n)&&e.push(n);for(let i=a+1;i<this.ids.length+1;i++){const r=new RegExp(`^(/?${this.id}/)`+i);e.filter(t=>r.test(t)).forEach(t=>{var e=this.state.context.getContext(t),t=t.replace(r,(t,e)=>""+e+(i-1));if(e.id=t,e.childMetaPairs){const n=e.buildChildMetaPairs(t,e.meta);e.childMetaPairs.forEach((t,e)=>{t.key=n[e].key})}this.state.context.addContext(t,e)})}const r=new RegExp(`^/?${this.id}/`+this.ids.length);e.filter(t=>r.test(t)).forEach(t=>{this.state.context.removeContext(t)}),t&&this.validate()}}function Oa(){var n=this,t=n.$createElement,i=n._self._c||t;return i("a-form-model-item",{class:{"ant-form-item-with-help":n.error}},[n.meta.title?i("a-col",{staticClass:"ant-form-item-label",attrs:{span:n.ui.spanLabel}},[i("label",{class:{"ant-form-item-required":n.ui.showRequired}},[n._v("\n      "+n._s(n.meta.title)+"\n      "),i("span",{staticClass:"v__optional"},[n._v("\n        "+n._s(n.ui.optional)+"\n        "),n.oh?i("a-tooltip",{attrs:{title:n.oh.text,placement:n.oh.placement,trigger:n.oh.trigger,overlayStyle:n.oh.overlayStyle,overlayClassName:n.oh.overlayClassName,mouseEnterDelay:n.oh.mouseEnterDelay,mouseLeaveDelay:n.oh.mouseLeaveDelay}},[i("a-icon",{attrs:{type:n.oh.icon}})],1):n._e()],1)]),n._v(" "),i("div",{staticClass:"v__array-add"},[i("a-button",{attrs:{type:n.ui.addType||"dashed",disabled:n.addDisabled},domProps:{innerHTML:n._s(n.ui.addTitle||"添加")},on:{click:n.addItem}})],1)]):n._e(),n._v(" "),i("a-col",{staticClass:"ant-form-item-control-wrapper",attrs:{span:n.ui.spanControl,offset:n.ui.offsetControl}},[i("div",{staticClass:"ant-form-item-control"},[i("a-row",{staticClass:"v__array-container"},[n._l(n.context.ids,function(t,e){return[i("a-col",{key:t.key,staticClass:"v__array-item",attrs:{span:n.arraySpan}},[i("a-card",[i("v-formly-item",{attrs:{id:n.getSubItemsKey(e),meta:n.meta.items}}),n._v(" "),n.showRemove?i("span",{staticClass:"v__array-remove",on:{click:function(t){return n.removeItem(e)}}},[i("a-icon",{attrs:{type:"delete"}})],1):n._e()],1)],1)]})],2),n._v(" "),n.meta.description?i("div",{class:{"ant-form-item-label":0===n.context.ids.length,"ant-form-extra":0<n.context.ids.length},domProps:{innerHTML:n._s(n.meta.description)}}):n._e(),n._v(" "),i("div",{class:{"has-error":n.error}},[n.error?i("div",{staticClass:"ant-form-explain",class:{"ant-form-item-label":0===n.context.ids.length}},[n._v("\n          "+n._s(n.error)+"\n        ")]):n._e()])],1)])],1)}S={name:"v-array",components:{VFormlyItem:f},mixins:[v],data(){return{arraySpan:8,context:new wa(this.state,this.id,this.meta)}},computed:{oh(){return Object.assign({},this.state.ui,this.meta.ui).optionalHelp},error:{get(){return this.context.error},set(t){this.context.error=t}},value:{get(){return this.context.value},set(t){this.context.value=t||[]}},disabled(){return this.meta.readOnly},addDisabled(){return this.disabled||null!=this.meta.maxItems&&this.context.ids.length>=this.meta.maxItems},showRemove(){return!(this.disabled||null!=this.meta.minItems&&this.context.ids.length<=this.meta.minItems)}},created(){o.default.bus.on(s+"-"+this.state._formId,this.formErrorChangeCallback);var{grid:t,removable:e,removeTitle:n}=this.ui;t&&t.arraySpan&&(this.arraySpan=t.arraySpan),this.removeTitle=!1===e?null:n},beforeDestroy(){o.default.bus.off(s+"-"+this.state._formId,this.formErrorChangeCallback)},methods:{formErrorChangeCallback(t){t.id===this.id&&(this.error=t.error?t.error.message:void 0)},getSubItemsKey(t){return this.id+"/"+t},addItem(){var t=this.context.add();this.ui.add&&this.ui.add(t)},removeItem(t){this.context.remove(t),this.ui.remove&&this.ui.remove(t)}}};Oa._withStripped=!0;const Sa=j({render:Oa,staticRenderFns:[]},void 0,S,void 0,!1,void 0,!1,void 0,void 0,void 0);function ka(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-auto-complete",e._b({attrs:{defaultValue:e.meta.default,disabled:e.meta.readOnly},on:{change:e.change,search:e.search,select:e.select},scopedSlots:e._u([e.ui.slotNameOfDataSource?{key:"dataSource",fn:function(){return[e._t(e.ui.slotNameOfDataSource)]},proxy:!0}:null,e.ui.slotNameOfDefault?{key:"default",fn:function(){return[e._t(e.ui.slotNameOfDefault)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-auto-complete",e.ui,!1))],1)}w={name:"v-autocomplete",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},methods:{change(t){this.meta.ui&&this.meta.ui.change&&this.meta.ui.change(t)},search(t){this.meta.ui&&this.meta.ui.search&&this.meta.ui.search(t)},select(t,e){this.meta.ui&&this.meta.ui.search&&this.meta.ui.search(t,e)}}};ka._withStripped=!0;const Ea=j({render:ka,staticRenderFns:[]},void 0,w,"data-v-3a714cf0",!1,void 0,!1,void 0,void 0,void 0);function Ia(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-wrapper",{attrs:{id:n.id,meta:n.meta}},[n.ui.span?[i("a-checkbox-group",{staticClass:"v__checkbox",attrs:{disabled:n.meta.readOnly},on:{change:n.change},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}},[i("a-row",n._l(n.meta.enum,function(t,e){return i("a-col",{key:e,staticClass:"v__text-left",attrs:{span:n.ui.span}},[i("a-checkbox",{attrs:{value:t.value||t,disabled:t.disabled||!1}},[n._v("\n            "+n._s(t.label||t)+"\n          ")])],1)}),1)],1)]:[i("a-checkbox-group",n._b({staticClass:"v__checkbox",attrs:{disabled:n.meta.readOnly,options:n.meta.enum},on:{change:n.change},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}},"a-checkbox-group",n.ui,!1))]],2)}g={name:"v-checkbox",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},methods:{change(){this.ui.change&&this.ui.change(this.value)}}};Ia._withStripped=!0;const ja=j({render:Ia,staticRenderFns:[]},void 0,g,"data-v-41f8430d",!1,void 0,!1,void 0,void 0,void 0);function Na(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},["month"===e.type?t("a-month-picker",e._b({staticClass:"v__date",attrs:{disabled:e.meta.readOnly},on:{openChange:function(t){return e.openChange(t)},change:e.change},scopedSlots:e._u([e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-month-picker",e.ui,!1)):e._e(),e._v(" "),"week"===e.type?t("a-week-picker",e._b({staticClass:"v__date",attrs:{disabled:e.meta.readOnly},on:{openChange:function(t){return e.openChange(t)},change:e.change},scopedSlots:e._u([e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-week-picker",e.ui,!1)):e._e(),e._v(" "),"range"===e.type?t("a-range-picker",e._b({staticClass:"v__date",attrs:{disabled:e.meta.readOnly},on:{openChange:function(t){return e.openChange(t)},change:e.change},scopedSlots:e._u([e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-range-picker",e.ui,!1)):e._e(),e._v(" "),"date"===e.type?t("a-date-picker",e._b({staticClass:"v__date",attrs:{disabled:e.meta.readOnly},on:{ok:function(t){return e.ok(t)},change:e.change},scopedSlots:e._u([e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-date-picker",e.ui,!1)):e._e()],1)}jt={name:"v-date",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{type(){return this.ui.type||"date"},value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},methods:{change(){this.ui.change&&this.ui.change(this.value)},openChange(t){this.ui.openChange&&this.ui.openChange(t)},ok(t){this.ui.ok&&this.ui.ok(t)}}};Na._withStripped=!0;const Va=j({render:Na,staticRenderFns:[]},void 0,jt,"data-v-407a25fe",!1,void 0,!1,void 0,void 0,void 0);class Ma extends M{constructor(t,e,n){super(t,e,n)}initValue(){this._initMetaValue?this.value=this._initMetaValue:this.meta.default&&(this.value=this.meta.default)}setValue(t){"slider"===this.type?this._value=Array.isArray(t)||"number"==typeof t?t:void 0:this._value=t||void 0}}function Fa(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-input-number",e._b({staticClass:"v__number",class:{"v__input-number-hidden-step":e.ui.hideStep},attrs:{id:e.id,disabled:e.meta.readOnly,min:e.min,max:e.max,step:e.step,formatter:e.formatter,parser:e.parser},on:{change:function(t){return e.change(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-input-number",e.ui,!1))],1)}x={name:"v-number",components:{VWrapper:I},mixins:[v],data(){return{context:new Ma(this.state,this.id,this.meta),min:-1/0,max:1/0,step:1,formatter:t=>t,parser:t=>t}},created(){var{minimum:t,exclusiveMinimum:e,maximum:n,exclusiveMaximum:i,multipleOf:a,type:r}=this.meta;this.step=a||1,void 0!==t&&(this.min=e?t+this.step:t),void 0!==n&&(this.max=i?n-this.step:n),"integer"===r&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));const o=this.ui;null!=o.prefix&&(o.formatter=t=>null==t?"":o.prefix+" "+t,o.parser=t=>t.replace(o.prefix+" ","")),null!=o.unit&&(o.formatter=t=>null==t?"":t+" "+o.unit,o.parser=t=>t.replace(" "+o.unit,"")),o.formatter&&(this.formatter=o.formatter),o.parser&&(this.parser=o.parser)},computed:{value:{get:function(){return this.context.value},set:function(t){this.context.value=t||void 0}}},methods:{change(t){this.value="integer"===this.meta.type?Math.floor(t):t,this.ui.change&&this.ui.change(this.value)}}};Fa._withStripped=!0;const Aa=j({render:Fa,staticRenderFns:[]},void 0,x,"data-v-6d4a5b1b",!1,void 0,!1,void 0,void 0,void 0);function Da(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[e.ui.value?t("a-time-picker",e._b({staticClass:"v__time",attrs:{defaultValue:e.meta.default,disabled:e.meta.readOnly,open:e.context.open},on:{"update:open":function(t){return e.$set(e.context,"open",t)},change:e.change,openChange:e.openChange},scopedSlots:e._u([e.ui.slotNameOfAddon?{key:"addon",fn:function(){return[e._t(e.ui.slotNameOfAddon,null,{context:e.context})]},proxy:!0}:null,e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null,e.ui.slotNameOfClearIcon?{key:"clearIcon",fn:function(){return[e._t(e.ui.slotNameOfClearIcon)]},proxy:!0}:null],null,!0)},"a-time-picker",e.ui,!1)):t("a-time-picker",e._b({staticClass:"v__time",attrs:{defaultValue:e.meta.default,disabled:e.meta.readOnly,open:e.context.open},on:{"update:open":function(t){return e.$set(e.context,"open",t)},change:e.change,openChange:e.openChange},scopedSlots:e._u([e.ui.slotNameOfAddon?{key:"addon",fn:function(){return[e._t(e.ui.slotNameOfAddon,null,{context:e.context})]},proxy:!0}:null,e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null,e.ui.slotNameOfClearIcon?{key:"clearIcon",fn:function(){return[e._t(e.ui.slotNameOfClearIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-time-picker",e.ui,!1))],1)}b={name:"v-time",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get:function(){return this.context.value},set:function(t){this.context.value=t||void 0}}},methods:{openChange(t){this.context.open=t,this.ui&&this.ui.openChange&&this.ui.openChange(t)},change(t,e){this.ui&&this.ui.change&&this.ui.change(t,e)}}};Da._withStripped=!0;const Pa=j({render:Da,staticRenderFns:[]},void 0,b,"data-v-381716aa",!1,void 0,!1,void 0,void 0,void 0);function Ta(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-form-model-item",{class:{"no-label":!t.meta.title},attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol},scopedSlots:t._u([t.meta.title?{key:"label",fn:function(){return[n("span",{staticClass:"v__label-text"},[t._v(t._s(t.meta.title))])]},proxy:!0}:null],null,!0)},[t._v(" "),t.ui.slotNameOfDefault?[t._t(t.ui.slotNameOfDefault)]:[t.ui.html?n("span",{staticClass:"v__content-text",domProps:{innerHTML:t._s(t.ui.html)}}):n("span",{staticClass:"v__content-text",domProps:{textContent:t._s(t.displayValue)}})],t._v(" "),t.meta.description?[n("div",{staticClass:"ant-form-extra",domProps:{innerHTML:t._s(t.meta.description)}})]:t._e()],2)],1)}function Ra(t){t&&t("data-v-5f49bfb2_0",{source:".no-label[data-v-5f49bfb2] :deep(.ant-form-item-control) {\n  line-height: normal;\n}\n",map:{version:3,sources:["Text.vue"],names:[],mappings:"AAAA;EACE,mBAAmB;AACrB",file:"Text.vue",sourcesContent:[".no-label :deep(.ant-form-item-control) {\n  line-height: normal;\n}\n"]},media:void 0})}c={name:"v-text",mixins:[v],data(){return{context:new F(this.state,this.id,this.meta),displayValue:""}},computed:{labelCol(){return"vertical"===this.state.layout?null:{span:this.ui.spanLabel}},wrapperCol(){return"vertical"===this.state.layout?null:{span:this.ui.spanControl,offset:this.ui.offsetControl||0}}},created(){this.displayValue="function"==typeof this.ui.text?this.ui.text():this.ui.text}};Ta._withStripped=!0;const $a=j({render:Ta,staticRenderFns:[]},Ra,c,"data-v-5f49bfb2",!1,void 0,!1,ui,void 0,void 0);function La(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-wrapper",{attrs:{id:n.id,meta:n.meta}},["button"===n.ui.radioType?i("a-radio-group",{class:{"v__radio-vertical":"vertical"===n.ui.direction},attrs:{disabled:n.meta.readOnly,name:n.ui.name,size:n.ui.size,buttonStyle:n.ui.buttonStyle},on:{change:n.change},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}},n._l(n.ui.options,function(t,e){return i("a-radio-button",{key:e,attrs:{value:t.value,disabled:t.disabled}},[n._v("\n      "+n._s(t.label)+"\n    ")])}),1):i("a-radio-group",{class:{"v__radio-vertical":"vertical"===n.ui.direction},attrs:{disabled:n.meta.readOnly,name:n.ui.name,options:n.ui.options,size:n.ui.size,buttonStyle:n.ui.buttonStyle},on:{change:n.change},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}})],1)}C={name:"v-radio",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get:function(){return this.context.value},set:function(t){this.context.value=t||void 0}}},methods:{change(){this.ui.change&&this.ui.change(this.value)}}};La._withStripped=!0;const Wa=j({render:La,staticRenderFns:[]},void 0,C,"data-v-4c2d75db",!1,void 0,!1,void 0,void 0,void 0);function za(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-textarea",e._b({attrs:{disabled:e.meta.readOnly,autoSize:e.autoSize,maxLength:e.meta.maxLength||null},on:{change:e.change,focus:function(t){return e.focus(t)},blur:function(t){return e.blur(t)},pressEnter:function(t){return e.pressEnter(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-textarea",e.ui,!1))],1)}m={name:"v-textarea",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta),autoSize:!0}},computed:{value:{get:function(){return this.context.value},set:function(t){this.context.value=t||void 0}}},created(){var t=this.ui["autoSize"];null!=t&&(this.autoSize=t)},methods:{change(){this.ui.change&&this.ui.change(this.value)},focus(t){this.ui.focus&&this.ui.focus(t)},blur(t){this.ui.blur&&this.ui.blur(t)},pressEnter(t){this.ui.pressEnter&&this.ui.pressEnter(t)}}};za._withStripped=!0;const Ba=j({render:za,staticRenderFns:[]},void 0,m,"data-v-7f1313d1",!1,void 0,!1,void 0,void 0,void 0);function Ha(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-slider",e._b({attrs:{disabled:!!e.meta.readOnly,min:e.min,max:e.max,step:e.step,marks:e.marks,included:e.included,tipFormatter:e.hiddenTooltip?null:e.tipFormatter},on:{change:e.change,afterChange:e.afterChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-slider",e.ui,!1))],1)}u={name:"v-slider",components:{VWrapper:I},mixins:[v],data(){return{context:new Ma(this.state,this.id,this.meta),min:0,max:100,step:1,marks:void 0,included:!0}},computed:{value:{get(){return this.context.value},set(t){this.ui.range?this.context.value=t||[]:this.context.value="number"==typeof t?t:void 0}},hiddenTooltip(){return null===this.ui.tipFormatter}},created(){var{minimum:t,maximum:e,multipleOf:n}=this.meta,{marks:t,included:e}=(this.min=t||0,this.max=e||100,this.step=n||1,this.ui);this.marks=t||void 0,this.included=void 0===e||!!e},methods:{tipFormatter(t){var e=this.ui["tipFormatter"];return e?e(t):""+t},change(t){this.ui.change&&this.ui.change(t)},afterChange(t){this.ui.afterChange&&this.ui.afterChange(t)}}};Ha._withStripped=!0;const Ua=j({render:Ha,staticRenderFns:[]},void 0,u,"data-v-2c7f1e60",!1,void 0,!1,void 0,void 0,void 0);function Ka(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[e.ui.character?[t("a-rate",{attrs:{id:e.ui.id,disabled:e.meta.readOnly,allowClear:e.allowClear,allowHalf:!!e.ui.allowHalf,tooltips:e.ui.tooltips||[],count:e.meta.maximum||5,character:e.ui.character},on:{change:e.change,hoverChange:e.hoverChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]:[t("a-rate",{attrs:{id:e.ui.id,disabled:e.meta.readOnly,allowClear:e.allowClear,allowHalf:!!e.ui.allowHalf,tooltips:e.ui.tooltips||[],count:e.meta.maximum||5},on:{change:e.change,hoverChange:e.hoverChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e.ui.slotNameOfCharacter?t("template",{slot:"character"},[e._t(e.ui.slotNameOfCharacter)],2):e._e()],2)]],2)}l={name:"v-rate",components:{VWrapper:I},mixins:[v],data(){return{context:new Ma(this.state,this.id,this.meta),allowClear:!0}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},created(){var t=this.ui["allowClear"];this.allowClear=void 0===t||!!t},methods:{change(t){this.ui.change&&this.ui.change(t)},hoverChange(t){this.ui.hoverChange&&this.ui.hoverChange(t)}}};Ka._withStripped=!0;const qa=j({render:Ka,staticRenderFns:[]},void 0,l,"data-v-36e2b7aa",!1,void 0,!1,void 0,void 0,void 0);function Ga(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-wrapper",{attrs:{id:n.id,meta:n.meta}},[n._l(n.tags,function(e){return[i("a-checkable-tag",{key:e.value,class:{disabled:e.disabled},attrs:{checked:e.checked},on:{change:function(t){return n.handleChange(e,t)}}},[i("span",[n._v(n._s(e.label))])])]})],2)}function Ja(t){t&&t("data-v-74059d79_0",{source:".ant-tag-checkable.disabled[data-v-74059d79] {\n  pointer-events: none;\n}\n",map:{version:3,sources:["Tag.vue"],names:[],mappings:"AAAA;EACE,oBAAoB;AACtB",file:"Tag.vue",sourcesContent:[".ant-tag-checkable.disabled {\n  pointer-events: none;\n}\n"]},media:void 0})}y={name:"v-tag",components:{VWrapper:I},mixins:[v],data(){return{context:new Ma(this.state,this.id,this.meta),tags:[]}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},watch:{"meta.enum":{handler:"updateTags",immediate:!0}},methods:{handleChange(t,e){t.disabled||(t.checked=e,this.updateValue(),this.ui.checkedChange&&this.ui.checkedChange(e),this.ui.change&&this.ui.change(this.value))},updateValue(){var t=this.tags.filter(t=>t.checked).map(t=>t.value);this.value=t.length?t:void 0},updateTags(t){let e=A(t);null!=e&&Array.isArray(e)&&0!==e.length&&((e="object"!=typeof e[0]?e.map(t=>({label:t,value:t})):e).forEach(t=>{t.checked=-1<(this.value||[]).indexOf(t.value)}),e.forEach(t=>t.disabled=!!this.meta.readOnly),this.tags=e)}}};Ga._withStripped=!0;const Xa=j({render:Ga,staticRenderFns:[]},Ja,y,"data-v-74059d79",!1,void 0,!1,ui,void 0,void 0);function Ya(){var e=this,t=e.$createElement;return(t=e._self._c||t)("v-wrapper",{attrs:{id:e.id,meta:e.meta}},[t("a-select",e._b({attrs:{defaultValue:e.meta.defaultValue,disabled:e.meta.readOnly},on:{blur:e.blur,deselect:e.deselect,focus:e.focus,inputKeydown:e.inputKeydown,mouseenter:e.mouseenter,mouseleave:e.mouseleave,popupScroll:e.popupScroll,search:e.search,select:e.select,dropdownVisibleChange:e.dropdownVisibleChange,change:e.change},scopedSlots:e._u([e.ui.slotNameOfNotFoundContent?{key:"notFoundContent",fn:function(){return[e._t(e.ui.slotNameOfNotFoundContent)]},proxy:!0}:null,e.ui.slotNameOfSuffixIcon?{key:"suffixIcon",fn:function(){return[e._t(e.ui.slotNameOfSuffixIcon)]},proxy:!0}:null,e.ui.slotNameOfRemoveIcon?{key:"removeIcon",fn:function(){return[e._t(e.ui.slotNameOfRemoveIcon)]},proxy:!0}:null,e.ui.slotNameOfClearIcon?{key:"clearIcon",fn:function(){return[e._t(e.ui.slotNameOfClearIcon)]},proxy:!0}:null,e.ui.slotNameOfMenuItemSelectedIcon?{key:"menuItemSelectedIcon",fn:function(){return[e._t(e.ui.slotNameOfMenuItemSelectedIcon)]},proxy:!0}:null],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"a-select",e.ui,!1),[e.ui.slotNameOfSelectDefault?e._t(e.ui.slotNameOfSelectDefault):e._e()],2)],1)}h={name:"v-select",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get:function(){return this.context.value},set:function(t){this.context.value=t||void 0}}},methods:{blur(){this.ui.blur&&this.ui.blur(this.value)},change(t,e){this.ui.change&&this.ui.change(t,e)},deselect(t,e){this.ui.deselect&&this.ui.deselect(t,e)},focus(){this.ui.focus&&this.ui.focus(this.value)},inputKeydown(){this.ui.inputKeydown&&this.ui.inputKeydown(this.value)},mouseenter(){this.ui.mouseenter&&this.ui.mouseenter(this.value)},mouseleave(){this.ui.mouseleave&&this.ui.mouseleave(this.value)},popupScroll(){this.ui.popupScroll&&this.ui.popupScroll(this.value)},search(t){this.ui.search&&this.ui.search(t)},select(t,e){this.ui.select&&this.ui.select(t,e)},dropdownVisibleChange(t){this.ui.dropdownVisibleChange&&this.ui.dropdownVisibleChange(t)}}};Ya._withStripped=!0;const Qa=j({render:Ya,staticRenderFns:[]},void 0,h,"data-v-472d201d",!1,void 0,!1,void 0,void 0,void 0);function Za(){var n=this,t=n.$createElement;return(t=n._self._c||t)("v-wrapper",{attrs:{id:n.id,meta:n.meta}},[t("a-cascader",n._b({attrs:{disabled:n.meta.readOnly,options:n.meta.enum},on:{change:n.change,popupVisibleChange:n.popupVisibleChange,search:n.search,blur:n.blur,focus:n.focus},scopedSlots:n._u([n.ui.slotNameOfCascaderSuffixIcon?{key:"suffixIcon",fn:function(){return[n._t(n.ui.slotNameOfCascaderSuffixIcon)]},proxy:!0}:null,n.ui.slotNameOfDisplayRender?{key:"displayRender",fn:function(t){var e=t.labels,t=t.selectedOptions;return[n._t(n.ui.slotNameOfDisplayRender,null,{labels:e,selectedOptions:t})]}}:null],null,!0),model:{value:n.value,callback:function(t){n.value=t},expression:"value"}},"a-cascader",n.ui,!1),[n.ui.slotNameOfCascaderDefault?[n._t(n.ui.slotNameOfCascaderDefault)]:n._e()],2)],1)}d={name:"v-cascader",components:{VWrapper:I},mixins:[v],data(){return{context:new F(this.state,this.id,this.meta)}},computed:{value:{get(){return this.context.value},set(t){this.context.value=t||void 0}}},created(){},methods:{change(t,e){this.ui.change&&this.ui.change(t,e)},popupVisibleChange(t){this.ui.popupVisibleChange&&this.ui.popupVisibleChange(t)},search(t){this.ui.search&&this.ui.search(t)},blur(t){this.ui.blur&&this.ui.blur(t)},focus(t){this.ui.focus&&this.ui.focus(t)}}};Za._withStripped=!0;const tr=j({render:Za,staticRenderFns:[]},void 0,d,"data-v-28b6c97b",!1,void 0,!1,void 0,void 0,void 0);class er{constructor(){this._map=new Map}addContext(t,e){this._map.set(t,e)}removeContext(t){this._map.delete(t)}getContext(t){return this._map.get(t)}getContexts(){return this._map}}class nr{constructor(){this._formId=Ca(4),this._context=null,this._layout="horizontal",this._ajvOptions={allErrors:!0,strict:!1,loopEnum:50},this._formData=null,this._meta={},this._ui={ingoreKeywords:["type","enum"],spanLabel:5,spanControl:19,grid:{gutter:36,span:24},errors:{required:"必填项"}},this._validate=null,this._ignoreErrorIds=[],this._applyUseOptions()}get context(){return this._context}set context(t){this._context=t}get layout(){return this._layout}set layout(t){this._layout=t}get ajvOptions(){return this._ajvOptions}set ajvOptions(t){this._ajvOptions=t}get formData(){return this._formData}set formData(t){this._formData=t}get meta(){return this._meta}set meta(t){this._meta=t}get ui(){return this._ui}set ui(t){this._ui=Object.assign({},this._ui,t)}get validate(){return this._validate}set validate(t){this._validate=t}updateObjProp(t,e,n){var[e,...i]=e.split("/").filter(t=>t);i.length?this.updateObjProp(t[e],i.join("/"),n):t&&(t[e]=n)}_applyUseOptions(){var t=o.default.prototype.$VFORMLY_OPTIONS;t&&"object"==typeof t&&(this.ui=t.ui)}}const ir=require("ajv");class ar{constructor(t){this.state=t,this._ajv=new ir(t.ajvOptions),this._validate=null}async runValidateForm(){var{valid:t,errors:e}=this._isAjvValid();let n=!0;for(const i of this.state.context.getContexts().values())n=await this._validation(i,t,e)&&n;return n}async runValidationFormItem(t){var{valid:e,errors:n}=this._isAjvValid();return await this._validation(t,e,n)}_ajvValidate(t){return this._validate||(this._validate=this._ajv.compile(t)),this._validate}_getAjvError(e,n){let i=void 0;for(let t=0;t<n.length;t++){var a=n[t];if(e===this._getId(a)){i=a;break}}return i}_isAjvValid(){var t=this._ajvValidate(this.state.meta);return{valid:t(this.state.formData||{}),errors:t.errors}}async _validation(t,e,n){var i=s+"-"+this.state._formId;if(e)return o.default.bus.emit(i,{id:t.id,error:void 0}),!0;{var e=this._getCustomError(t),a=await this._getCustomAsyncError(t),e=[...e,...a];this._replaceWithDefaultErrors(t,n),this._replaceWithCustomErrors(t.id,n,e);const r=this.state.ui.ingoreKeywords||[];a=n.filter(t=>-1===r.indexOf(t.keyword));a=this._removeIgnoreErrors(a),e=this._getAjvError(t.id,a);return o.default.bus.emit(i,{id:t.id,error:e}),!e}}_getCustomError(t){var e=t.meta.ui&&t.meta.ui.validator;return e?e(t.value):[]}async _getCustomAsyncError(t){var e=t.meta.ui&&t.meta.ui.validatorAsync;return e?e(t.value):[]}_replaceWithDefaultErrors(t,e){if(e&&0!==e.length){t=t.meta.ui&&t.meta.ui.errors||{};const n=Object.assign({},this.state.ui.errors,t),i=Object.keys(n);i&&0<i.length&&e.forEach(t=>{-1<i.indexOf(t.keyword)&&(t.message=n[t.keyword])})}}_replaceWithCustomErrors(n,i,t){t.forEach(e=>{var t=i.find(t=>t.keyword===e.keyword&&this._getId(t)===n);t&&(t.message=e.message)})}_removeIgnoreErrors(t){const e=this.state._ignoreErrorIds;return e&&0!==e.length?t.filter(t=>-1===e.indexOf(this._getId(t))):t}_getId(t){return t.params&&t.params.missingProperty?t.instancePath+"/"+t.params.missingProperty:""+t.instancePath}}function D(t,e){o.default.component(t,e)}function rr(){var n=this,t=n.$createElement;return(t=n._self._c||t)("div",{staticClass:"v__formly"},[t("a-form-model",{staticClass:"v",class:{v__inline:"inline"===n.layout,v__horizontal:"horizontal"===n.layout},attrs:{layout:n.layout}},[t("v-formly-item",{attrs:{id:"/",meta:n.objectMeta},scopedSlots:n._u([n._l(n.slotsName,function(e){return{key:e,fn:function(t){return[n._t(e,null,null,Object.assign({},t))]}}})],null,!0)}),n._v(" "),"default"===n.button?[t("a-form-model-item",{staticClass:"v__default-submit-button",attrs:{wrapperCol:n.wrapperCol}},[t("a-space",[t("a-button",{attrs:{type:"danger"},on:{click:n.clearForm}},[n._v(" 重置 ")]),n._v(" "),t("a-button",{attrs:{type:"primary",loading:n.loading},on:{click:n.submitForm}},[n._v("\n            提交\n          ")])],1)],1)]:"custom"===n.button?[n._t("button",null,{loading:n.loading,clearForm:n.clearForm,submitForm:n.submitForm})]:void 0],2)],1)}e={name:"v-formly",components:{VFormlyItem:f},mixins:[_],model:{prop:"value",event:"value-change"},props:{value:Object,layout:{type:String,default:"horizontal"},button:String,meta:{}},data(){return{objectMeta:{},formData:{},globalInstance:new nr,loading:!1}},provide(){return{state:this.globalInstance}},computed:{wrapperCol(){var t=Object.assign({},this.globalInstance.ui);return"vertical"===this.layout?null:{span:t.spanControl,offset:t.spanLabel}}},created(){if(!this.meta||void 0===this.meta.properties)throw new Error("Invalid Schema");console.log("formly created"),this.globalInstance.layout=this.layout,this.objectMeta=Object.assign({},this.objectMeta,this.meta),this.formData=Object.assign({},this.formData,this.value),this.registerBuildInComponents(),this.globalInstance.meta=this.objectMeta,this.globalInstance.formData=this.formData,this.initFormData(this.globalInstance.formData,this.meta.properties),this.globalInstance.context=new er,this.globalInstance.validate=new ar(this.globalInstance)},mounted(){this.$emit("value-change",this.formData)},watch:{value:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&this.reset(t)},deep:!1},layout:function(t,e){t!==e&&(this.globalInstance.layout=t)}},methods:{initFormData(n,i){Object.keys(i).forEach(t=>{var e=i[t];if("null"!==e.type)switch(e.type){case"object":n[t]=n[t]||{},this.initFormData(n[t],e.properties);break;case"array":n[t]=n[t]||[];break;case"boolean":break;default:n[t]=n[t]||void 0}})},getContext(t){return this.globalInstance.context.getContext(t)},async validate(){return this.globalInstance.validate.runValidateForm()},registerBuildInComponents(){D("v-object",pi),D("v-string",ya),D("v-boolean",xa),D("v-array",Sa),D("v-autocomplete",Ea),D("v-checkbox",ja),D("v-date",Va),D("v-number",Aa),D("v-integer",Aa),D("v-time",Pa),D("v-text",$a),D("v-radio",Wa),D("v-textarea",Ba),D("v-slider",Ua),D("v-rate",qa),D("v-tag",Xa),D("v-select",Qa),D("v-cascader",tr)},reset(t){var e=this.globalInstance.context.getContext("/");e&&(e.value=t,this.$emit("value-change",this.formData))},clearForm(){this.$emit("form-reset",A(this.globalInstance.formData)),this.reset({})},async submitForm(){this.loading=!0;var t=await this.validate();this.loading=!1,this.$emit("form-submit",{valid:t,data:t?A(this.globalInstance.formData):void 0})}}};rr._withStripped=!0;const or=[j({render:rr,staticRenderFns:[]},void 0,e,"data-v-5464d712",!1,void 0,!1,void 0,void 0,void 0),I];function sr(e,t){e.use(T),or.forEach(t=>{e.component(t.name,t)}),e.prototype.$VFORMLY_OPTIONS=t}"undefined"!=typeof window&&window.Vue&&sr(window.Vue);O={install:sr};t.BaseMeta=M,t.FORM_VALUE_CHANGE=R,t.componentMixin=v,t.default=O,t.install=sr,t.registerFormComponent=D,Object.defineProperty(t,"__esModule",{value:!0})});
